<?xml version="1.0" encoding="utf-8"?>
<WebFormXML>
	<strings>
		<!--
		<String Name="cs1">data source=.\SQLExpress;initial catalog=LearALM;user id=sa;password=Vrh@54321;MultipleActiveResultSets=True;App=EntityFramework;</String>
		-->
		<string name="pts1">~\App_Data\OneScripter\TESTS\</string>
		<string name="pts2">~\App_Data\OneScripter\TESTS\</string>
		<string name="pts3">~\App_Data\OneScripter\SERVICESCRIPTS\</string>
		<string name="pts4">~\App_Data\OneMessage\OneMessages.xml</string>
		<string name="Matrix2D_en-US">~\App_Data\WebMonitor\Matrix2D_en-US.xml</string>
	</strings>
	<DefaultLCID>en-US</DefaultLCID>
	<CommonElementsDefaults>
		<Defaults>
			<FormDesign Layout="~/Views/Shared/_Layout.cshtml" LayoutMobile="~/Areas/Mobile/Views/Shared/_Layout.cshtml" Style="width:100%;"/>
			<Parameters NameSeparator="@@"/>
			<Inputs Type="Text" Required="false" ReadOnly="false" UploadFolder="~/App_Data/Uploads"/>
			<SQLList ID="Id" Display="Name" ConnectionString="defaultConnectionString"/>
		</Defaults>
		<Defaults LCID="hu-HU">
			<FormTexts ReturnMessageOKHeader="A beavatkozás végrehajtása befejeződött!" ReturnMessageNOKHeader="Hibás paraméterek!" RequiredMissing="A {0} mező kitöltése kötelező!"/>
		</Defaults>
		<Defaults LCID="en-US">
			<FormTexts ReturnMessageOKHeader="Intervention execution finished!" ReturnMessageNOKHeader="Erroneous parameters!" RequiredMissing="Input field {0} is mandatory!"/>
		</Defaults>
	</CommonElementsDefaults>
	<CommonElementsInputs>
		<CommonInputs>
			<Input Scope="ref" Name="SCHEDULEID" Row="8" Col="1" Type="SQLList">
				<SQLList ID="IID" Display="DDISPLAY">
					<Command>
						SELECT TOP 100 
							[iScheduler].[Schedules].[Id] AS IID,
							convert(varchar(25), [iScheduler].[Schedules].[Id]) + ' (' + convert(varchar(25), [OperationTime], 120) + ',' 
							+ [iScheduler].[ScheduleObjects].[ObjectType] + ',' 
							+ [iScheduler].[ScheduleObjects].[ObjectName] + ',' 
							+ [iScheduler].[ScheduleOperations].[OperationName] + ',' 
							+ (CASE WHEN [iScheduler].[Schedules].[State] = 0 THEN 'Active' ELSE 'Passive' END) + ')' 
							AS DDISPLAY
						FROM [iScheduler].[Schedules]
						INNER JOIN [iScheduler].[ScheduleObjects] ON [iScheduler].[Schedules].[ScheduleObjectId] = [iScheduler].[ScheduleObjects].[Id]
						INNER JOIN [iScheduler].[ScheduleOperations] ON [iScheduler].[Schedules].[ScheduleOperationId] = [iScheduler].[ScheduleOperations].[Id]
						WHERE [iScheduler].[Schedules].[State] = 0
					</Command>
				</SQLList>
			</Input>
			<Input Scope="ref" Name="SCHEDULEIDALL" Row="8" Col="1" Type="SQLList">
				<SQLList ID="IID" Display="DDISPLAY">
					<Command>
						SELECT TOP 100 
							[iScheduler].[Schedules].[Id] AS IID,
							convert(varchar(25), [iScheduler].[Schedules].[Id]) + ' (' + convert(varchar(25), [OperationTime], 120) + ',' 
							+ [iScheduler].[ScheduleObjects].[ObjectType] + ',' 
							+ [iScheduler].[ScheduleObjects].[ObjectName] + ',' 
							+ [iScheduler].[ScheduleOperations].[OperationName] + ',' 
							+ (CASE WHEN [iScheduler].[Schedules].[State] = 0 THEN 'Active' ELSE 'Passive' END) + ')' 
							AS DDISPLAY
						FROM [iScheduler].[Schedules]
						INNER JOIN [iScheduler].[ScheduleObjects] ON [iScheduler].[Schedules].[ScheduleObjectId] = [iScheduler].[ScheduleObjects].[Id]
						INNER JOIN [iScheduler].[ScheduleOperations] ON [iScheduler].[Schedules].[ScheduleOperationId] = [iScheduler].[ScheduleOperations].[Id]
					</Command>
				</SQLList>
			</Input>
		</CommonInputs>
	</CommonElementsInputs>
	<CommonElementsActions>
		<CommonActions>
			<Action Scope="ref" Name="E" ReturnMode="returninfoJSON" ButtonStyle="#STYLE_BUTTON_BLACKONYELLOW#" ButtonLabel="Start">
				<url><area>iSchedulerReport</area><controller>iSchedulerReport</controller><action>Execute</action></url>
			</Action>
			<Action Scope="ref" Name="SE" ReturnMode="returninfoJSON" ButtonStyle="#STYLE_BUTTON_BLACKONYELLOW#" ButtonLabel="Start">
				<url><area>iScheduler</area><controller>iScheduler</controller><action>ScheduleExecute</action></url>
			</Action>
		</CommonActions>
	</CommonElementsActions>
	<WebForms>
		<WebForm LCID="hu-HU" Name="ExecuteTest" Title="Riport csomag teszt futtatása">
			<Help>Reportcsomag teszt végrehajtása.</Help>
			<ActionConditions>
				<ActionCondition Type="else">
					<Action Name="E"/>
					<Parameters>
						<Parameter PassTo="url" Name="xmlfile"><Value>@XMLFILE@</Value></Parameter>
						<Parameter PassTo="url" Name="GroupId"><Value>@GROUPID@</Value></Parameter>
						<Parameter PassTo="url" Name="ObjectId"><Value>@OBJECTID@</Value></Parameter>
						<Parameter PassTo="url" Name="TimeStamp"><Value>@TIMESTAMP@</Value></Parameter>
					</Parameters>
					<ExecuteConditions>
					</ExecuteConditions>
				</ActionCondition>			
			</ActionConditions>
			<Inputs>
				<Input Row="1" Col="1" Name="XMLFILE" Label="XML fájl" WSpan="2" DefaultValue="~/App_Data/iScheduler/iSchedulerReport.xml"/>
				<Input Row="2" Col="1" Name="OBJECTID" Label="Riportcsomag" Type="DATList" >
					<DATList>
						<url>
							<!--appname>LearALM</appname-->
							<area>iSchedulerReport</area><controller>iSchedulerReport</controller><action>List</action>
							<fragment></fragment>
							<inputparameter name="xmlfile">~/App_Data/iScheduler/iSchedulerReport.xml</inputparameter>
							<inputparameter name="GroupId">GRP1</inputparameter>
						</url>
					</DATList>
				</Input>
				<Input Row="2" Col="2" Name="GROUPID" Label="Csoportazonosító" DefaultValue="GRP1" />
				<Input Row="3" Col="1" Name="TIMESTAMP" Label="TimeStamp" Type="DateTime" DefaultValue="2017.01.01 00:00:00"/>
			</Inputs>
		</WebForm>
		<WebForm LCID="en-US" Name="ExecuteTest" Title="Test run report package">
			<Help>Test run report package.</Help>
			<ActionConditions>
				<ActionCondition Type="else">
					<Action Name="E"/>
					<Parameters>
						<Parameter PassTo="url" Name="xmlfile"><Value>@XMLFILE@</Value></Parameter>
						<Parameter PassTo="url" Name="GroupId"><Value>@GROUPID@</Value></Parameter>
						<Parameter PassTo="url" Name="ObjectId"><Value>@OBJECTID@</Value></Parameter>
						<Parameter PassTo="url" Name="TimeStamp"><Value>@TIMESTAMP@</Value></Parameter>
					</Parameters>
					<ExecuteConditions>
					</ExecuteConditions>
				</ActionCondition>			
			</ActionConditions>
			<Inputs>
				<Input Row="1" Col="1" Name="XMLFILE" Label="XML fájl" WSpan="2" DefaultValue="~/App_Data/iScheduler/iSchedulerReport.xml"/>
				<Input Row="2" Col="1" Name="OBJECTID" Label="Riportcsomag" Type="DATList" >
					<DATList>
						<url>
							<area>iSchedulerReport</area><controller>iSchedulerReport</controller><action>List</action>
							<inputparameter name="xmlfile">~/App_Data/iScheduler/iSchedulerReport.xml</inputparameter>
							<inputparameter name="groupid">GRP1</inputparameter>
						</url>
					</DATList>
				</Input>
				<Input Row="2" Col="2" Name="GROUPID" Label="Csoportazonosító" DefaultValue="GRP1" />
				<Input Row="3" Col="1" Name="TIMESTAMP" Label="TimeStamp" Type="DateTime" DefaultValue="2017.01.01 00:00:00"/>
			</Inputs>
		</WebForm>
		<WebForm LCID="hu-HU" Name="ScheduleExecuteTest" Title="Ütemezések tesztelése" Style="width:100%">
		   <Help>Ütemezés teszt végrehajtása.</Help>
			<ActionConditions>
				<ActionCondition Type="else">
					<Action Name="SE"/>
				    <Parameters>
						<Parameter PassTo="url" Name="path"><Value>@XMLFILE@</Value></Parameter>
						<Parameter PassTo="url" Name="scheduleid"><Value>@SCHEDULEID@@SCHEDULEIDALL@</Value></Parameter>
					</Parameters>
					<ExecuteConditions>
						<ExecuteCondition Type="NotEqual" Test="A@SCHEDULEID@B@SCHEDULEIDALL@C" With="ABC" ErrMsg="Meg kell adni ütemezés azonosítót!"/>
						<ExecuteCondition Type="Equal" Test="A@SCHEDULEIDALL@@SCHEDULEID@C" With="A@SCHEDULEID@@SCHEDULEIDALL@C" ErrMsg="Csak az egyik azonosító mezőt töltse ki!"/>
					</ExecuteConditions>
				</ActionCondition>			
			</ActionConditions>
		   <Inputs>
			<Input Row="1" Col="1" Name="XMLFILE" Label="XML fájl" DefaultValue="~/App_Data/iScheduler/iScheduler.xml"/>
			<Input Row="8" Col="1" Name="SCHEDULEID" Label="scheduleid Active ONLY"/>
			<Input Row="8" Col="2" Name="SCHEDULEIDALL" Label="scheduleid ALL"/>
		   </Inputs>
		</WebForm>
		<WebForm LCID="en-US" Name="ScheduleExecuteTest" Title="Test run schedules" Style="width:100%">
		   <Help>Test run schedule test.</Help>
			<ActionConditions>
				<ActionCondition Type="else">
					<Action Name="SE"/>
				<Parameters>
					<Parameter PassTo="url" Name="path"><Value>@XMLFILE@</Value></Parameter>
					<Parameter PassTo="url" Name="scheduleid"><Value>@SCHEDULEID@@SCHEDULEIDALL@</Value></Parameter>
				</Parameters>
				<ExecuteConditions>
					<ExecuteCondition Type="NotEqual" Test="A@SCHEDULEID@B@SCHEDULEIDALL@C" With="ABC" ErrMsg="Schedule Id is mandatory!"/>
					<ExecuteCondition Type="Equal" Test="A@SCHEDULEIDALL@@SCHEDULEID@C" With="A@SCHEDULEID@@SCHEDULEIDALL@C" ErrMsg="Use only one schedule id field, not both!"/>
				</ExecuteConditions>
				</ActionCondition>			
			</ActionConditions>
			<Inputs>
				<Input Row="1" Col="1" Name="XMLFILE" Label="XML file" DefaultValue="~/App_Data/iScheduler/iScheduler.xml"/>
				<Input Row="8" Col="1" Name="SCHEDULEID" Label="scheduleid Active ONLY"/>
				<Input Row="8" Col="2" Name="SCHEDULEIDALL" Label="scheduleid ALL"/>
			</Inputs>
		</WebForm>
  </WebForms>
</WebFormXML>
