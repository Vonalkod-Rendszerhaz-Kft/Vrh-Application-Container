@*
    -----------------------------------
    iScheduler - EditorSingle.cshtml
    -----------------------------------
*@

@model Vrh.iScheduler.iSchedulerModel
@{
    string curlangForPicker = Model.CurrentLCID.Substring(0, 2);
    //string formatPickerDate = Model.DateTimeToBootstrapDTPF(Model.DateTimeFormat.Replace(@"\", String.Empty));
    string formatPickerDate = Model.DateTimeToBootstrapDTPF("yyyy.MM.dd HH:mm");
}

<script type="text/javascript">
    $('.picker_for_datetime').datetimepicker({
        language: '@curlangForPicker',  @*milyen nemzetiség*@
        weekStart: 1,                   @*melyik nappal indul a hét 1=hétfő (0=vasárnap)*@
        todayBtn: 1,                    @*alul megjelenjen-e a "Ma" gomb*@
        todayHighlight: 1,              @*kiemelje-e a naptárban a mai napot*@
        autoclose: 1,                   @*bezáruljon-e a picker, ha kiválasztotta az értéket*@
        startView: 2,
        minView: 0,
        maxView: 4,
        forceParse: 0,
        pickerPosition: 'top-left',
        formatViewType: 'datetime'
    });
</script>

<tr>
    <td>
        <div class="editor-label">
            @Html.LabelFor(x => x.OperationTime)
        </div>
        @*<div class="editor-field">
                <div class="editor-htmlattributes">
                    @if (Model.SeriesId == null)
                    {
                        @Html.TextBoxFor(x => x.OperationTime, new { @type = "datetime-local", @Value = Model.OperationTime.ToString("yyyy-MM-ddThh:mm") })
                    }
                    else
                    {
                        @Html.TextBoxFor(x => x.OperationTime, new { @type = "datetime-local", @Value = Model.OperationTime.ToString("yyyy-MM-ddThh:mm"), @readonly = "" })
                    }
                </div>
                @Html.ValidationMessageFor(x => x.OperationTime)
                <br />
            </div>*@
        <div class="editor-field">
            <div id="Date" class="editor-htmlattributes input-group date picker_for_datetime" 
                 data-date="" 
                 data-date-format="@Html.Raw(formatPickerDate)" 
                 data-link-field="Date" 
                 data-link-format="@Html.Raw(formatPickerDate)">
                 
                @Html.TextBoxFor(x => x.OperationTime, "{0:yyyy.MM.dd HH:mm}")
                <span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>
            </div>
            @Html.ValidationMessageFor(x => x.OperationTime)
            <br />
        </div>

    </td>
    <td colspan="2"></td>
</tr>
